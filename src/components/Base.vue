<template>
  <ion-page>
    <ion-tabs>
      <ion-router-outlet></ion-router-outlet>
      <ion-tab-bar slot="bottom" style="height: 80px">
        <ion-tab-button tab="home" href="/home">
          <svg class="icon-tabs" :style="{ fill: getColor('/home') }" xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 24 24">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M10.15 2.3C10.15 4.3 10.15 3.77256 10.15 5.8C10.15 7.82744 10.15 8.32536 10.15 9.75714C12.212 9.75714 13.8824 8.08711 13.8824 6.02857C13.8824 3.97003 12.212 2.3 10.15 2.3ZM4.61767 6.02857C4.61767 2.97453 7.09528 0.5 10.15 0.5C13.2048 0.5 15.6824 2.97453 15.6824 6.02857C15.6824 9.08261 13.2048 11.5571 10.15 11.5571C7.09528 11.5571 4.61767 9.08261 4.61767 6.02857ZM2.2696 14.6241C3.30413 13.67 4.56699 13.3571 5.51765 13.3571H14.7824C15.733 13.3571 16.9959 13.67 18.0304 14.6241C19.0868 15.5985 19.8 17.1439 19.8 19.4C19.8 19.8971 19.3971 20.3 18.9 20.3C18.4029 20.3 18 19.8971 18 19.4C18 17.5418 17.4265 16.5158 16.81 15.9473C16.1718 15.3586 15.3758 15.1571 14.7824 15.1571H5.51765C4.92418 15.1571 4.12822 15.3586 3.48996 15.9473C2.87355 16.5158 2.3 17.5418 2.3 19.4C2.3 19.8971 1.89706 20.3 1.4 20.3C0.902944 20.3 0.5 19.8971 0.5 19.4C0.5 17.1439 1.21322 15.5985 2.2696 14.6241Z"/>
          </svg>
          <ion-label :class="isActive('/home')">~/index</ion-label>
        </ion-tab-button>


        <ion-tab-button tab="projects" href="/projects">
          <svg class="icon-tabs" :class="isActive('/proje')" :style="{ fill: getColor('/proje') }"
               xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M3.32333 2.77305C3.32333 1.3356 4.48861 0.170319 5.92606 0.170319H20.2799C20.777 0.170319 21.1799 0.573262 21.1799 1.07032C21.1799 1.56737 20.777 1.97032 20.2799 1.97032H5.92606C5.48273 1.97032 5.12333 2.32972 5.12333 2.77305V13.7048H13.2552C13.7522 13.7048 14.1552 14.1077 14.1552 14.6048C14.1552 15.1018 13.7522 15.5048 13.2552 15.5048H1.71448C1.21743 15.5048 0.814484 15.1018 0.814484 14.6048C0.814484 14.1077 1.21743 13.7048 1.71448 13.7048H3.32333V2.77305ZM17.9685 6.13476C17.5252 6.13476 17.1658 6.49416 17.1658 6.93749V12.902C17.1658 13.3454 17.5252 13.7048 17.9685 13.7048H20.5843C21.0276 13.7048 21.387 13.3454 21.387 12.902V6.93749C21.387 6.49416 21.0276 6.13476 20.5843 6.13476H17.9685ZM15.3658 6.93749C15.3658 5.50004 16.5311 4.33476 17.9685 4.33476H20.5843C22.0217 4.33476 23.187 5.50004 23.187 6.93749V12.902C23.187 14.3395 22.0217 15.5048 20.5843 15.5048H17.9685C16.5311 15.5048 15.3658 14.3395 15.3658 12.902V6.93749Z"/>
          </svg>
          <ion-label :class="isActive('/proje')">~/projects</ion-label>
        </ion-tab-button>

        <ion-tab-button tab="skills" href="/skills">
          <svg class="icon-tabs" :class="isActive('/skills')" :style="{ fill: getColor('/skill') }"
               xmlns="http://www.w3.org/2000/svg" viewBox="0 2 24 24">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M9.71765 4.85048C9.13495 4.85048 8.57899 5.09504 8.18524 5.52459L7.28795 6.50346H20.7L19.8027 5.52459C19.409 5.09504 18.853 4.85048 18.2703 4.85048H9.71765ZM22.2927 8.30179C22.2744 8.3029 22.256 8.30346 22.2374 8.30346H5.69425C5.5008 8.62489 5.39656 8.9951 5.39656 9.37542V19.71C5.39656 21.4065 6.77183 22.7818 8.46832 22.7818H19.5197C21.2162 22.7818 22.5914 21.4065 22.5914 19.71V9.37542C22.5914 8.99444 22.4868 8.62361 22.2927 8.30179ZM4.54428 6.83496C3.93383 7.53925 3.59656 8.44099 3.59656 9.37542V19.71C3.59656 22.4006 5.77772 24.5818 8.46832 24.5818H19.5197C22.2103 24.5818 24.3914 22.4006 24.3914 19.71V9.37542C24.3914 8.40497 24.0277 7.46978 23.3719 6.75441L21.1296 4.30828C20.3949 3.50681 19.3576 3.05048 18.2703 3.05048H9.71765C8.63039 3.05048 7.59305 3.50681 6.85837 4.30828L4.61609 6.75441C4.60766 6.7636 4.59928 6.77283 4.59095 6.7821C4.57472 6.7991 4.55915 6.81673 4.54428 6.83496ZM13.994 11.0497C14.491 11.0497 14.894 11.4526 14.894 11.9497V17.3123L16.7246 15.5649C17.0842 15.2217 17.6538 15.2349 17.9971 15.5945C18.3403 15.954 18.327 16.5237 17.9675 16.8669L14.6154 20.0666C14.2676 20.3986 13.7203 20.3986 13.3726 20.0666L10.0205 16.8669C9.66098 16.5237 9.64773 15.954 9.99094 15.5945C10.3341 15.2349 10.9038 15.2217 11.2634 15.5649L13.094 17.3123V11.9497C13.094 11.4526 13.4969 11.0497 13.994 11.0497Z"/>
          </svg>
          <ion-label :class="isActive('/skill')">~/skills</ion-label>
        </ion-tab-button>
      </ion-tab-bar>
    </ion-tabs>
  </ion-page>
</template>

<script>
import {IonPage, IonTabs, IonRouterOutlet, IonTabBar, IonTabButton, IonLabel} from '@ionic/vue';
import {useRoute} from 'vue-router';

export default {
  components: {IonPage, IonTabs, IonRouterOutlet, IonTabBar, IonTabButton, IonLabel},
  setup() {
    const route = useRoute();

    const isActive = (path) => {
      return route.path.slice(0, 6) === path ? 'active' : '';
    };


    let getColor = (path) => {
      return route.path.slice(0, 6) === path ? '#007AFF' : '';
    };
    return {isActive, getColor};
  }
};
</script>

<style>
.icon-tabs {
  max-height: 25px;
}

.active {
  color: #007AFF;
  fill: #007AFF;
}


ion-label, svg {
  color: gray;
  fill: gray;
}

/* Default color */
ion-label, .icon-tabs {
  color: gray;
  fill: gray;
}
</style>
